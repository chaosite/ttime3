!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ttime=t():e.ttime=t()}(window,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5);t.Faculty=class{};t.Group=class{};t.Course=class{};t.AcademicEvent=class{};t.Schedule=class{};t.FilterSettings=class{};function r(e){e.sort(function(e,t){return e.day!=t.day?e.day-t.day:e.startMinute-t.startMinute})}function o(e){e.forEach(function(e){e.courses.forEach(function(t){t.faculty=e,t.groups&&t.groups.forEach(function(e){e.course=t,e.events&&e.events.forEach(function(t){t.group=e})})})})}t.DateObj=class{},t.sortEvents=r,t.eventsCollide=function(e){let t=e.slice();r(t);for(let e=0;e<t.length-1;e++)if(t[e].day==t[e+1].day&&t[e+1].startMinute<t[e].endMinute)return!0;return!1},t.loadCatalog=function(e){return new Promise(function(t,n){let r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){if(200==r.status){let e=null;try{o(e="["==r.response[0]?JSON.parse(r.response):a.parseCheeseFork(r.response)),t(e)}catch(e){n(e)}}else n(Error(r.statusText))},r.onerror=function(){n(Error("Network Error"))},r.send()})},t.fixRawCatalog=o,t.groupsByType=function(e){let t=new Map;return e.groups?(e.groups.forEach(function(e){t.has(e.type)||t.set(e.type,[]),t.get(e.type).push(e)}),Array.from(t.values())):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minutesToTime=function(e){return Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")},t.formatDate=function(e){return new Date(e.year,e.month,e.day).toDateString()},t.displayName=function(e){return e.description||e.course.name}},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.earliestStart=0]="earliestStart",e[e.latestFinish=1]="latestFinish",e[e.numRuns=2]="numRuns",e[e.freeDays=3]="freeDays"}(a=t.RatingType||(t.RatingType={}));t.AllRatings=new Map([[a.earliestStart,{name:"Earliest start",explanation:"Hour at which the earliest class of the week start",badgeTextFunc:e=>`Earliest start: ${e}`}],[a.latestFinish,{name:"Latest finish",explanation:"Hour at which the latest class of the week finishes",badgeTextFunc:e=>`Latest finish: ${e}`}],[a.numRuns,{name:"Number of runs",explanation:"Number of adjacent classes in different buildings",badgeTextFunc:e=>`${e} runs`}],[a.freeDays,{name:"Free days",explanation:"Number of days with no classes",badgeTextFunc:e=>`${e} free days`}]])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=!1;const r=n(4),o=n(0),i=n(1),s=n(2),l=n(6);window.setCatalogUrl=function(e){$("#catalog-url").val(e),k()};let u=new Set,c=null,d=null;function f(e){e.text(e.data("forbidden")?"[unforbid]":"[forbid]")}function p(e){let t=$("<li>"),n=`Group ${e.id} (${e.type}) `;e.teachers.length>0&&(n+=`(${e.teachers.join(", ")}) `);let a=$("<b>",{text:n});t.append(a);let r=$("<a>",{class:"forbid-link",href:"#/",data:{forbidden:y(e),groupID:m(e)}});return f(r),r.on("click",function(){r.data("forbidden")?function(e){g.delete(m(e)),k(),b()}(e):h(e)}),t.append(r),t}let g=new Set;function m(e){return`${e.course.id}.${e.id}`}function h(e){g.add(m(e)),k(),b()}function y(e){return g.has(m(e))}function b(){let e=$("#forbidden-groups");e.empty(),g.forEach(function(t){let n=$("<li>");n.text(t+" ");let a=$("<a>",{href:"#/",text:"[unforbid]",click:function(){g.delete(t),k(),b()}});n.append(a),e.append(n)}),$("a.forbid-link").each(function(){let e=$(this).data("groupID"),t=g.has(e);$(this).data("forbidden",t),f($(this))})}function v(e){return String(e).padStart(6,"0")}window.addForbiddenGroup=h;const w='<i class="fas fa-info-circle"></i>',x='<i class="fas fa-minus-circle"></i>';function M(e){return`<span dir="rtl">${e}</span>`}function E(e){let t=document.createElement("span"),n=document.createElement("a");return n.innerHTML=w,n.className="expando",n.href="#/",t.innerHTML=` ${v(e.id)} ${M(e.name)} `,n.onclick=function(){if($(t).data("ttime3_expanded"))n.innerHTML=w,$(t).data("ttime3_expanded",!1),t.removeChild($(t).data("infoDiv"));else{let a=document.createElement("div");$(t).data("infoDiv",a),a.appendChild(function(e){let t=$("<span>"),n=$("<ul>");n.append($("<li>",{html:`<b>Full name</b> ${v(e.id)} ${e.name}`})),n.append($("<li>",{html:`<b>Academic points:</b> ${e.academicPoints}`})),n.append($("<li>",{html:`<b>Lecturer in charge:</b> ${M(e.lecturerInCharge||"[unknown]")}`})),n.append($("<li>",{html:"<b>Test dates:</b>"}));let a=$("<ul>");e.testDates?e.testDates.forEach(function(e){a.append($("<li>",{text:i.formatDate(e)}))}):a.append($("<li>",{text:"[unknown]"})),n.append(a),n.append($("<li>",{html:"<b>Groups:</b>"}));let r=$("<ul>");return e.groups?e.groups.forEach(function(e){r.append(p(e)[0]);let t=$("<ul>");e.events?e.events.forEach(function(e){t.append($("<li>",{text:`${I[e.day]}, `+i.minutesToTime(e.startMinute)+"-"+i.minutesToTime(e.endMinute)+` at ${e.location||"[unknown]"}`}))}):t.append($("<li>",{text:"[unknown]"})),r.append(t)}):r.append($("<li>",{text:"[unknown]"})),n.append(r),t.append(n),t[0]}(e)),t.appendChild(a),n.innerHTML=x,$(t).data("ttime3_expanded",!0)}},t.appendChild(n),t}let S=new Map,T=new Map;function k(){var e;J.selectedCourses=Array.from(u).map(e=>e.id),J.customEvents=$("#custom-events-textarea").val(),J.catalogUrl=$("#catalog-url").val(),J.filterSettings={forbiddenGroups:Array.from(g),noCollisions:(e="filter.noCollisions",document.getElementById(e).checked),ratingMax:new Map,ratingMin:new Map};for(let e of Array.from(s.AllRatings.keys())){let t=s.RatingType[e];J.filterSettings.ratingMin.set(e,C($(`#rating-${t}-min`)[0],null)),J.filterSettings.ratingMax.set(e,C($(`#rating-${t}-max`)[0],null))}window.localStorage.setItem("ttime3_settings",l.stringifySettings(J)),a&&console.info("Saved settings:",J)}function C(e,t){return""==e.value?t:Number(e.value)}function N(e){a&&console.info("Selected",e),u.add(e),S.get(e.id).disabled=!0,T.get(e.id).classList.add("disabled-course-label"),k(),j()}function _(...e){e.forEach(function(e){let t=B(e);if(!t)throw new Error("No course with ID "+e);N(t)})}function j(){let e=Number((t=u,Array.from(t.values()).map(e=>o.groupsByType(e).map(e=>e.length).reduce((e,t)=>e*t,1)).reduce((e,t)=>e*t,1)));var t;$("#possible-schedules").text(`${e.toLocaleString()} (${e.toExponential(2)})`),$("#generate-schedules").prop("disabled",0==u.size);let n=$("#selected-courses");n.empty();let r=$("<ul>",{class:"list-group"});n.append(r),u.forEach(function(e){let t=$("<li>",{class:"list-group-item"}),n=E(e),o=$("<button>",{class:"btn btn-sm btn-danger float-right",html:'<i class="fas fa-trash-alt"></i>',click:function(){!function(e){a&&console.info("Unselected",e),u.delete(e),S.get(e.id).disabled=!1,T.get(e.id).classList.remove("disabled-course-label"),k(),j()}(e)}});t.append(n),null!=e.groups&&0!=e.groups.length||t.append($("<i>",{class:"text-warning fas fa-exclamation-triangle",title:"Course has no groups"})),t.append(o),r.append(t)})}window.addSelectedCourseByID=_;let F=new(n(7));F.onmessage=function(e){a&&console.info("Received message from worker:",e),$("#generate-schedules").prop("disabled",!1),$("#spinner").hide(),null==e.data?$("#exception-occurred-scheduling").show():function(e){L=e,D=0;let t=$("#schedule-browser, #rendered-schedule-container");$("#num-schedules").text(e.length),0==e.length||1==e.length&&0==e[0].events.length?(t.hide(),$("#no-schedules").show()):(t.show(),G(0))}(e.data)},window.checkCustomEvents=function(){let e=$("#custom-events-textarea");e.removeClass("is-invalid"),e.removeClass("is-valid");try{O(e.val()).length>0&&e.addClass("is-valid")}catch(t){e.addClass("is-invalid")}};const R=new RegExp([/(Sun|Mon|Tue|Wed|Thu|Fri|Sat) /,/([0-9]{2}):([0-9]{2})-([0-9]{2}):([0-9]{2}) /,/(.*)/].map(e=>e.source).join("")),A={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function O(e){let t=[];return""==e?t:(e.split("\n").forEach(function(e){let n=R.exec(e);if(null==n)throw Error("Invalid custom event line: "+e);let a=A[n[1]],r=Number(60*Number(n[2])+Number(n[3])),o=Number(60*Number(n[4])+Number(n[5])),i=n[6];t.push(function(e,t,n,a){let r={academicPoints:0,id:0,lecturerInCharge:"",name:e,testDates:[],groups:[]},o={course:r,description:"",id:0,teachers:[],type:"lecture",events:[]};r.groups.push(o);let i={day:t,startMinute:n,endMinute:a,location:"",group:o};return o.events.push(i),r}(i,a,r,o))}),t)}window.getSchedules=function(){$("#generate-schedules").prop("disabled",!0),$("#spinner").show(),$("#exception-occurred").hide(),$("#no-schedules").hide(),$("#initial-instructions").hide();let e=new Set(u);try{O(J.customEvents).forEach(t=>e.add(t))}catch(e){console.error("Failed to build custom events course:",e)}F.postMessage({courses:e,filterSettings:J.filterSettings})};let L=[],D=0;window.nextSchedule=function(){G(D+1)},window.prevSchedule=function(){G(D-1)};const I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=[["#007bff","#fff"],["#e83e8c","#fff"],["#ffc107","#000"],["#6610f2","#fff"],["#dc3545","#fff"],["#28a745","#fff"],["#6f42c1","#fff"],["#fd7e14","#000"],["#20c997","#fff"],["#17a2b8","#fff"],["#6c757d","#fff"],["#343a40","#fff"]];function G(e){let t=L.length;D=e=(e+t)%t,$("#current-schedule-id").text(e+1);let n=L[e];!function(e,t){e.empty(),Array.from(s.AllRatings.keys()).map(e=>W(e,t)).forEach(function(t){e.append(t).append(" ")});let n=$("<ul>",{class:"list-group"});e.append(n),function(e){let t=e.events.slice(),n=[[]];o.sortEvents(t);let a=t[0].day;return t.forEach(function(e){e.day!=a&&(n.push([]),a=e.day),n[n.length-1].push(e)}),n}(t).forEach(function(e){let t=$("<li>",{class:"list-group-item",css:{"padding-top":"2px","padding-bottom":"2px"},html:$("<small>",{class:"font-weight-bold",text:I[e[0].day]})});n.append(t),e.forEach(function(e){let t=$("<li>",{class:"list-group-item"}),a=i.minutesToTime(e.startMinute),r=e.location||"[unknown]",o=i.minutesToTime(e.endMinute),s=e.group.teachers.join(",")||"[unknown]";t.html(`\n        <div class="d-flex w-100 justify-content-between">\n           <small class="text-muted">\n             <i class="far fa-clock"></i>\n             ${a}-${o}\n           </small>\n           <small>\n             <i class="fas fa-map-marker"></i>\n             <span dir="rtl">${r}</span>\n           </small>\n        </div>\n        <div dir="rtl">${i.displayName(e.group)}</div>\n        <div class="d-flex w-100 justify-content-between">\n          <small>\n            <i class="fas fa-chalkboard-teacher"></i>\n            <span dir="rtl">${s}</span>\n          </small>\n          <small class="text-muted">\n            ${v(e.group.course.id)}, group ${e.group.id}\n          </small>\n        </div>\n        `),n.append(t)})})}($("#schedule-contents"),n),r.renderSchedule($("#rendered-schedule")[0],n,function(e){let t=Array.from(e.values()).map(e=>e.id).sort();t.push(0);let n=t.map((e,t)=>[e,P[t]]);return new Map(n)}(u))}let H=null,U=!0;function W(e,t){let n=$("<a>",{class:"badge badge-info",id:`rating-badge-${e}`,text:s.AllRatings.get(e).badgeTextFunc(t.rating.get(e)),title:s.AllRatings.get(e).explanation,href:"#/",click:function(){!function(e){H==e&&(U=!U),H=e,L.sort(function(t,n){return(U?1:-1)*(t.rating.get(e)-n.rating.get(e))}),G(0);for(let t of Array.from(s.AllRatings.keys()))$(`#rating-badge-${s.RatingType[t]}`).replaceWith(W(e,L[0]))}(e)}});if(H==e){let e=U?"fa-sort-up":"fa-sort-down";n.append(` <i class="fas ${e}"></i>`)}return n}function B(e){return d.get(e)}function z(e){let t=[];return e.name.includes("חשבון דיפרנציאלי ואינטגרלי")&&t.push("חדוא",'חדו"א'),e.name.includes("מדעי המחשב")&&t.push("מדמח",'מדמ"ח'),e.name.includes("פיסיקה")&&t.push("פיזיקה"),e.name.includes("אנליזה נומרית")&&t.push("נומריזה"),t.join(" ")}!function(){let e=$("#rating-limits-form");for(let t of Array.from(s.AllRatings.keys())){let n=s.RatingType[t],a=$("<div>",{class:"row"});e.append(a),a.append($("<div>",{class:"col col-form-label",text:s.AllRatings.get(t).name,title:s.AllRatings.get(t).explanation})),a.append($("<div>",{class:"col",html:$("<input>",{id:`rating-${n}-min`,type:"number",class:"form-control",placeholder:"-∞",change:k})})),a.append($("<div>",{class:"col",html:$("<input>",{id:`rating-${n}-max`,type:"number",class:"form-control",placeholder:"∞",change:k})}))}}();let J=function(e){let t=l.parseSettings(e);a&&console.info("Loaded settings:",t),$("#catalog-url").val(t.catalogUrl),$("#custom-events-textarea").val(t.customEvents);{let e=t.filterSettings;console.info("fs: ",e),console.info("fs.ratingMin: ",e.ratingMin),n="filter.noCollisions",r=e.noCollisions,document.getElementById(n).checked=r;for(let t of Array.from(s.AllRatings.keys())){let n=s.RatingType[t];$(`#rating-${n}-min`).val(e.ratingMin.get(t)),$(`#rating-${n}-max`).val(e.ratingMax.get(t))}}var n,r;return t}(window.localStorage.getItem("ttime3_settings"));g=new Set(J.filterSettings.forbiddenGroups),b(),o.loadCatalog(J.catalogUrl).then(function(e){a&&console.log("Loaded catalog:",e),c=e,d=new Map,c.forEach(function(e){e.courses.forEach(function(e){d.set(e.id,e)})}),function(){let e=$("#catalog");e.empty(),c.forEach(function(t){let n=$("<details>"),a=$("<summary>");a.html(`<strong>${t.name}</strong> `);let r=$("<span>",{class:"badge badge-secondary",text:t.semester});a.append(r),n.append(a),e.append(n);let o=$("<ul>",{class:"course-list"});n.append(o),t.courses.forEach(function(e){let t=$("<button>",{text:"+",click:function(){N(e)}});S.set(e.id,t);let n=E(e);T.set(e.id,n);let a=$("<li>");a.append(t).append(n),o.append(a)})})}(),J.selectedCourses.forEach(function(e){try{_(e)}catch(t){console.error(`Failed to add course ${e}:`,t)}}),function(){let e=$("#courses-selectize"),t=[],n=[];c.forEach(function(e){n.push({label:e.name,value:e.name}),e.courses.forEach(function(n){t.push({optgroup:e.name,value:n.id,text:`${v(n.id)} - ${n.name}`,nicknames:z(n)})})}),e.selectize({options:t,optgroups:n,searchField:["text","nicknames"],onItemAdd:function(t){""!=t&&(N(B(Number(t))),e[0].selectize.clear())}})}()},function(e){$("#exception-occurred-catalog").show(),console.error("Failed to load catalog:",e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(0),r=n(1);function o(e){let t=[],n=e.slice();for(;n.length>0;){let e=new Set([n[0]]),r=!0;for(;r;){r=!1;let t=e;e=new Set,t.forEach(function(t){e.add(t),n.forEach(function(n){a.eventsCollide([n,t])&&(e.add(n),r=!0)})}),n=n.filter(t=>!e.has(t))}let o=[];e.forEach(function(e){let t=!1;o.some(function(n,r){return!a.eventsCollide(n.concat([e]))&&(t=!0,n.push(e),!0)}),t||o.push([e])}),o.forEach(function(e,n){e.forEach(function(e){t.push({event:e,layer:n,numLayers:o.length})})})}return t}function i(e){return Math.min(...e.events.map(e=>e.startMinute))}function s(e){return Math.max(...e.events.map(e=>e.endMinute))}t.layoutLayeredEvents=o,t.renderSchedule=function(e,t,n){e.innerHTML="";let a=i(t),c=100/(s(t)-a);o(t.events).forEach(function(t){let o=document.createElement("div"),i=t.event;o.className="event";let s=n.get(i.group.course.id);o.style.backgroundColor=s[0],o.style.color=s[1],u(o,"%",100/6*(1+i.day+t.layer/t.numLayers),c*(i.startMinute-a),100/6/t.numLayers,c*(i.endMinute-i.startMinute)),function(e,t){e.innerHTML="";let n=document.createElement("span");n.className="course-name",n.innerText=r.displayName(t.group),e.appendChild(n);let a=document.createElement("span");a.className="event-type",a.innerText=t.group.type,e.appendChild(a);let o=document.createElement("div");o.className="location",o.innerText=t.location,e.appendChild(o);let i=document.createElement("div");i.className="forbid";let s=document.createElement("a");s.innerHTML='<i class="fas fa-ban"></i>',s.href="#/",s.title="Forbid this group",s.onclick=function(){$(s).fadeOut(100).fadeIn(100),window.addForbiddenGroup(t.group)},i.appendChild(s),e.appendChild(i)}(o,i),e.appendChild(o)}),function(e,t){let n=i(t),a=s(t),o=100/(a-n),c=Math.ceil(n/l)*l,d=Math.floor(a/l)*l;for(let t=c;t<=d;t+=l){let a=document.createElement("div");a.className="grid-line",a.innerText=r.minutesToTime(t),u(a,"%",0,o*(t-n),100,o*l),e.appendChild(a)}}(e,t)};const l=30;function u(e,t,n,a,r,o){e.style.left=`${n}${t}`,e.style.top=`${a}${t}`,e.style.width=`${r}${t}`,e.style.height=`${o}${t}`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=/([0-9]{1,2})\.([0-9]{1,2})\.([0-9]{4})/;function r(e){if(!e)return null;let t=a.exec(e);return null==t?(console.warn("Failed to match date regex with: ",e),null):{day:Number(t[1]),month:Number(t[2]),year:Number(t[3])}}t.parseCheeseFork=function(e){const t={academicPoints:"נקודות",building:"בניין",courseId:"מספר מקצוע",courseName:"שם מקצוע",day:"יום",dayLetters:"אבגדהוש",faculty:"פקולטה",group:"קבוצה",hour:"שעה",lecturer_tutor:"מרצה/מתרגל",moed_a:"מועד א",moed_b:"מועד ב",num:"מס.",room:"חדר",sport:"ספורט",thoseInCharge:"אחראים",type:"סוג"},n=new Map([["הרצאה","lecture"],["תרגול","tutorial"]]);let a=new Map;if(!e.startsWith("var courses_from_rishum = "))throw new Error("Not valid cheesefork jsData - lacks expected prefix");let o=JSON.parse(e.substring("var courses_from_rishum = ".length));return console.info("Experimental CheeseFork parser. First course: ",o[0]),o.forEach(function(e){let o=e.general[t.faculty];a.has(o)||a.set(o,{name:o,semester:"cheesefork-unknown-semester",courses:[]});let i=a.get(o),s={academicPoints:Number(e.general[t.academicPoints]),faculty:i,name:e.general[t.courseName],id:Number(e.general[t.courseId]),lecturerInCharge:e.general[t.thoseInCharge],testDates:[e.general[t.moed_a],e.general[t.moed_b]].map(r).filter(e=>null!=e),groups:[]},l=new Map,u=new Map;e.schedule.forEach(function(e){let a=e[t.group],r=e[t.num];if(l.has(r)||l.set(r,a),l.get(r)!=a)return;if(!u.has(r)){let a="",i="";o==t.sport?(a="sport",i=e[t.type]):a=n.get(e[t.type])||e[t.type],u.set(r,{id:r,description:i,course:s,teachers:[],type:a,events:[]})}let i=u.get(r),c=e[t.hour].split(" - ").map(function(e){let t=e.split(":"),n=60*Number(t[0]);return t.length>1&&(n+=10*Number(t[1])),n}),d={group:i,day:t.dayLetters.indexOf(e[t.day]),startMinute:c[0],endMinute:c[1],location:e[t.building]+" "+e[t.room]};{let n=e[t.lecturer_tutor];n&&!i.teachers.includes(n)&&i.teachers.push(n)}i.events.push(d)}),u.forEach(function(e,t){s.groups.push(e)}),i.courses.push(s)}),Array.from(a.values())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2),r="https://storage.googleapis.com/repy-176217.appspot.com/latest.json";function o(e){let t=new Map;for(let n of Object.keys(e)){let r=a.RatingType[n];if(void 0===r){console.error(`Ignored unknown saved rating ${n}`);continue}let o=e[n];null!=o&&t.set(r,o)}return t}function i(e){let t={};for(let n of e.keys())t[a.RatingType[n]]=e.get(n);return t}t.Settings=class{},t.parseSettings=function(e){let t={catalogUrl:r,selectedCourses:[],forbiddenGroups:[],customEvents:"",filterSettings:{forbiddenGroups:[],noCollisions:!0,ratingMin:new Map,ratingMax:new Map}};if(""==e)return t;let n=JSON.parse(e);return n.filterSettings.ratingMin=o(n.filterSettings.ratingMin),n.filterSettings.ratingMax=o(n.filterSettings.ratingMax),t=Object.assign({},t,n)},t.stringifySettings=function(e){let t=Object.assign({},e);return t.filterSettings.ratingMax=i(t.filterSettings.ratingMax),t.filterSettings.ratingMin=i(t.filterSettings.ratingMin),JSON.stringify(t)}},function(e,t,n){e.exports=function(){return new Worker(n.p+"scheduler_worker.js")}}])});